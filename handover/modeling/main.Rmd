---
title: "Untitled"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(dbplyr)
library(lubridate)
library(tibble)
library(ggplot2)
library(stringr)
library(gridExtra)
library(network)
library(ggraph)
library(visNetwork)
library(networkD3)
library(igraph)
library(tidygraph)
library(cluster)
library(fpc)
library(plotly)
library(cluster)
library(factoextra)
library(anomalize)
library(boot)
library(leaps)
```

```{r}
pathname <- '/home/alex/S2DS/FSA/handover/data/'
#filename <- 'all_data__210500_201601-201602_total_dump_.RData'
filename <- 'all_data__090300_201401-201602_total_dump_00.RData'
#filename <- 'mate2.RData'
route <- paste(pathname,filename,sep='')
load(route)

node_data <- data$node_data#old "all_info"
edge_data <- data$edge_data#old "si"
```

```{r}
source("/home/alex/S2DS/FSA/handover/modeling/build_network.R")
source("/home/alex/S2DS/FSA/handover/modeling/model_linear.R")
source("/home/alex/S2DS/FSA/handover/modeling/dump_lm_sum.R")
```

```{r}
lm.results <- model_linear(node_data)
```

#```{r}
#build_network(edge_data,1,30)
#```

```{r}
pp <- '/home/alex/Dropbox/pivigo/report/'
#
ff <- 'lm_sum_mate_00_pow1.txt'
dump_lm_sum(pp,ff,lm.results[1])
ff <- 'lm_sum_mate_00_pow2.txt'
dump_lm_sum(pp,ff,lm.results[3])
ff <- 'lm_sum_mate_00_pow3.txt'
dump_lm_sum(pp,ff,lm.results[5])
#
ff <- 'lm_reg_mate_00_pow1.txt'
dump_lm_sum(pp,ff,lm.results[2])
ff <- 'lm_reg_mate_00_pow2.txt'
dump_lm_sum(pp,ff,lm.results[4])
ff <- 'lm_reg_mate_00_pow3.txt'
dump_lm_sum(pp,ff,lm.results[6])
```
<!-- #sink() -->
